{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/adercidepaulajunior/Udemy/blog/blog_next/src/pages/post/[slug].tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport Error from 'next/error';\nimport { Post } from '../../containers/Post';\nexport var __N_SSG = true;\n\nvar DynamicPost = function DynamicPost(_ref) {\n  _s();\n\n  var post = _ref.post;\n  var router = useRouter();\n\n  if (router.isFallback) {\n    return __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 12\n      }\n    }, \"P\\xE1gina ainda carregando, por favor aguarde...\");\n  }\n\n  if (!(post === null || post === void 0 ? void 0 : post.title)) {\n    return __jsx(Error, {\n      statusCode: 404,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return __jsx(Post, {\n    post: post,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 10\n    }\n  });\n};\n\n_s(DynamicPost, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n\n_c = DynamicPost;\nexport default DynamicPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"DynamicPost\");","map":{"version":3,"sources":["/Users/adercidepaulajunior/Udemy/blog/blog_next/src/pages/post/[slug].tsx"],"names":["useRouter","Error","Post","DynamicPost","post","router","isFallback","title"],"mappings":";;;;;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,YAAlB;AAEA,SAASC,IAAT,QAAqB,uBAArB;;;AAUA,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAgC;AAAA;;AAAA,MAA7BC,IAA6B,QAA7BA,IAA6B;AAClD,MAAMC,MAAM,GAAGL,SAAS,EAAxB;;AAEA,MAAIK,MAAM,CAACC,UAAX,EAAuB;AACrB,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAAP;AACD;;AAED,MAAI,EAACF,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEG,KAAP,CAAJ,EAAkB;AAChB,WAAO,MAAC,KAAD;AAAO,MAAA,UAAU,EAAE,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,SAAO,MAAC,IAAD;AAAM,IAAA,IAAI,EAAEH,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAZD;;GAAMD,W;UACWH,S;;;KADXG,W;AAcN,eAAeA,WAAf","sourcesContent":["import { useRouter } from 'next/router';\nimport Error from 'next/error';\nimport { GetStaticPaths, GetStaticProps } from 'next';\nimport { Post } from '../../containers/Post';\nimport { countAllPosts } from '../../data/posts/count-all-posts';\nimport { getAllPosts } from '../../data/posts/get-all-posts';\nimport { getPost } from '../../data/posts/get-post';\nimport { PostData } from '../../domain/posts/post';\n\nexport type DynamicPostProps = {\n  post: PostData;\n};\n\nconst DynamicPost = ({ post }: DynamicPostProps) => {\n  const router = useRouter();\n\n  if (router.isFallback) {\n    return <div>PÃ¡gina ainda carregando, por favor aguarde...</div>;\n  }\n\n  if (!post?.title) {\n    return <Error statusCode={404} />;\n  }\n\n  return <Post post={post} />;\n};\n\nexport default DynamicPost;\n\nexport const getStaticPaths: GetStaticPaths = async () => {\n  const numberOfPosts = await countAllPosts();\n  const posts = await getAllPosts(`_limit=${numberOfPosts}`);\n\n  return {\n    paths: posts.map((post) => {\n      return {\n        params: {\n          slug: post.slug,\n        },\n      };\n    }),\n    fallback: true,\n  };\n};\n\nexport const getStaticProps: GetStaticProps = async (ctx) => {\n  const posts = await getPost(ctx.params.slug);\n  const post = posts.length > 0 ? posts[0] : {};\n\n  return {\n    props: { post: post },\n    revalidate: 5,  \n  };\n};\n"]},"metadata":{},"sourceType":"module"}